version: 1.0
runtime: python311
build:
  commands:
    pre-build:
      - echo "Checking Python and pip versions"
      - python3 --version
      - pip --version
    build:
      - echo "Setting up virtual environment"
      - python3 -m venv /tmp/venv
      - . /tmp/venv/bin/activate
      - python3 -m ensurepip --upgrade
      - pip install --upgrade pip
      - pip install -r requirements.txt
run:
  command: ". /tmp/venv/bin/activate && gunicorn run:app"