version: 1.0
runtime: python311
build:
  commands:
    pre-build:
      - echo "Checking Python and pip versions"
      - python3 --version
      - pip3 --version
    build:
      - echo "Setting up virtual environment"
      - python3 -m venv /tmp/venv
      - . /tmp/venv/bin/activate
      - echo "Installing dependencies"
      - pip3 install --upgrade pip
      - pip3 install -r requirements.txt
      - echo "Dependencies installed"
run:
  command: >
    . /tmp/venv/bin/activate &&
    gunicorn run:app
